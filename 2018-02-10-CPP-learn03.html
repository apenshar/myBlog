<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> C++超度指南第三弹--类 · Apen Shar's Tech Blog</title><meta name="description" content="C++超度指南第三弹--类 - Apen Shar"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/myBlog/favicon.png"><link rel="stylesheet" href="/myBlog/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://apenshar.github.io/myBlog/atom.xml" title="Apen Shar's Tech Blog"></head><body><div class="wrap"><header><a href="/myBlog/" class="logo-link"><img src="/myBlog/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/myBlog/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/myBlog/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/myBlog/tags/" target="_self" class="nav-list-link">TAGS</a></li><li class="nav-list-item"><a href="https://weibo.com/u/5104206638" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/apenshar" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">C++超度指南第三弹--类</h1><div class="post-info">Feb 10, 2018</div><div class="post-content"><blockquote>
<p>这一节我将会粗略介绍C++中的类(class)以及类的多态性。</p>
</blockquote>
<h3 id="C-类定义"><a href="#C-类定义" class="headerlink" title="C++ 类定义"></a>C++ 类定义</h3><p>定义一个类，本质上是定义一个数据类型的蓝图。这实际上并没有定义任何数据，但是它定义了类的对象包括了什么，以及可以在这个对象上执行哪些操作。因此可以归结为：</p>
<p><strong>类是具有相同属性和服务的一组对象的集合，它为属于该类的全部对象提供了一个统一的抽象描述。<br></strong><br><strong>在C++中，类是面向对象程序最基本的单元。</strong></p>
<p>类包含以下3种类型： </p>
<ul>
<li>private：私有类型包含数据和函数，在private关键字后面声明。如果省略private关键字，则必须紧跟在类名的后面声明。在类中声明的数据和函数如果不特别指明，都被视为私有类型。私有类型的数据值允许类本身声明的函数对其进行存取，而类的外部的任何函数都不能访问。 </li>
<li>public：公有类型public关键字后面声明，他们是类与外部的接口，任何外部函数都可以访问公有类的数据和函数。 </li>
<li>protect：保护类型用于类的继承，当类的成员被声明为protect时，从类的外部就不能对其进行访问。<br>类时面向对象程序最基本的单元。在设计面向对象程序时，首先要以类的方式设计实际待解决的问题，也就是将问题索要处理的数据定义成类的私有或公有类型数据，同时将处理问题的方法定义成类的公有或私有成员函数。</li>
</ul>
<p>是不是和JS中的<code>class</code>很相似:=)，温习一下，JS中<code>class</code>的3种方法:构造方法，静态方法 和原型方法。哈哈哈，总的说，自然界中设计模式都是共通的！不扯了，看代码，下面写一个简单的拥有计算面积功能的Box <code>class</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Box</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">      <span class="keyword">double</span> length;   <span class="comment">// 长度</span></span><br><span class="line">      <span class="keyword">double</span> breadth;  <span class="comment">// 宽度</span></span><br><span class="line">      <span class="keyword">double</span> height;   <span class="comment">// 高度</span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   Box Box1;        <span class="comment">// 声明 Box1，类型为 Box</span></span><br><span class="line">   Box Box2;        <span class="comment">// 声明 Box2，类型为 Box</span></span><br><span class="line">   <span class="keyword">double</span> volume = <span class="number">0.0</span>;     <span class="comment">// 用于存储体积</span></span><br><span class="line"> </span><br><span class="line">   <span class="comment">// box 1 详述</span></span><br><span class="line">   Box1.height = <span class="number">5.0</span>; </span><br><span class="line">   Box1.length = <span class="number">6.0</span>; </span><br><span class="line">   Box1.breadth = <span class="number">7.0</span>;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// box 2 详述</span></span><br><span class="line">   Box2.height = <span class="number">10.0</span>;</span><br><span class="line">   Box2.length = <span class="number">12.0</span>;</span><br><span class="line">   Box2.breadth = <span class="number">13.0</span>;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// box 1 的体积</span></span><br><span class="line">   volume = Box1.height * Box1.length * Box1.breadth;</span><br><span class="line">   <span class="built_in">cout</span> &lt;&lt; <span class="string">"Box1 的体积："</span> &lt;&lt; volume &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// box 2 的体积</span></span><br><span class="line">   volume = Box2.height * Box2.length * Box2.breadth;</span><br><span class="line">   <span class="built_in">cout</span> &lt;&lt; <span class="string">"Box2 的体积："</span> &lt;&lt; volume &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>outpt:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Box1 的体积：<span class="number">210</span></span><br><span class="line">Box2 的体积：<span class="number">1560</span></span><br></pre></td></tr></table></figure></p>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>多态性是指类中具有相似功能的不同函数使用同一个名称实现。这里我举个形象点的例子，我们对鸡鸭狗发出“叫”的指令，它们收到后都会发出声音，只不过叫声不一样而已，鸡发出的声音是叩叩叩，鸭是嘎嘎嘎，狗是汪汪汪，这样是不是好懂多了++)</p>
<h3 id="联编"><a href="#联编" class="headerlink" title="联编"></a>联编</h3><p>多态性的实现与联编有关。将一个函数的调用与其相应的函数体代码相链接的过程，成为函数联编。<br><strong>编译时的多态性是通过静态联编来实现的。</strong>静态联编是指在调用同名函数时，编译器将根据调用时所使用的实际参数个数、类型的不同确定应该调用哪一个函数的实现，它是在程序编译阶段就确定下来的多态性。静态联编通过使用重载机制来获得，重载机制包括函数重载和运算符重载。</p>
<h2 id="Donate"><a href="#Donate" class="headerlink" title="Donate"></a>Donate</h2><p>Buy me a coffee if you like my blog :)<br>Buymeacoffee: <a href="https://buymeacoff.ee/apen" target="_blank" rel="noopener">https://buymeacoff.ee/apen</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/myBlog/2018-02-10-HTML-Notepad.html" class="prev">PREV</a><a href="/myBlog/2018-02-10-CPP-learn02.html" class="next">NEXT</a></div><div class="copyright"><p>© 2017 - 2018 <a href="https://apenshar.github.io/myBlog">Apen Shar</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>